

<meta charset="utf-8">
<meta name="viewport" content="width=device-width">

<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
	integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
	crossorigin="anonymous">
<link rel="stylesheet" href="NewFile2.css" />
<script type="text/javascript" src="./js/shoppingCart.js"></script>



<!-- 
<table class="">
<thead>
<tr>
	<th>선택</th><th>이미지</th><th>상품명</th><th>가격</th><th>수량</th><th>합계</th><th>삭제</th>	
</tr>
</thead>
<tbody id="row">
</tbody>

</table>
 -->
	 <div class="basketdiv" id="basket">
		<div class="row head">
			
			<div class="subdiv">
			     <div class="check">선택</div>
			  
				<div class="img">이미지</div>
				<div class="pname">상품명</div>
			</div>
			<div class="subdiv">
				<div class="basketprice">가격</div>
				<div class="num">수량</div>
				<div class="sum">합계</div>
			</div>
			<div class="subdiv">
				<div class="basketcmd">삭제</div>
			</div>
			<div class="split">
			</div>
			
			<div class=row1 id=row1>
			
			</div>
			</div>
			<div class="row body">
				<div class=row id=row>
			</div>
		
		
		<div class="right-align basketrowcmd">
				 <a
					href="javascript:void(0)" class="abutton"
					onclick="javascript:basket.delAllItem();">장바구니비우기</a>
			</div>

			<div class="bigtext right-align sumcount" >
				<span id="sum_p_num"></span>
			</div>
			<div class="bigtext right-align box blue summoney" id="item_price">합계금액:
				</div>

			<div id="goorder" class="">
				<div class="clear"></div>
				<div class="buttongroup center-align cmd">
					<a href="http://localhost:3000/checkout.html">선택한 상품 주문</a>
				</div>
				
			</div>
	</div>


	<script type="text/javascript">
$(document).ready(function(){
		
			
		$.ajax({
			url:"http://localhost:3000/booklist",
			type:"get",	
			success:function( resp ){
				alert(JSON.stringify(resp));
				
				
				$("#seq").val(resp.seq);
				$("#writer").html(resp.writer);
				$("#publisher").html(resp.publisher);
				$("#price").html(resp.price);
				$("#isbn").html(resp.isbn);
				$("#publishDate").html(resp.publishDate);
				$("#delivery_fee").html(resp.deliveryFee);
				$("#sort").html(resp.sort);
				$("#genre").html(resp.genre);
				$("#price").val(resp.price);
				$("#deliveryFee").val(resp.deliveryFee);
				$("#filename").html(resp.filename);
				
				
				
				$.each(resp, function(index, item){
						
					let data="<div class='row data'>";
					//data +="<input type='checkbox' name='buy' value='262' checked='' onclick='javascript:basket.checkItem()'>"
	                data +="<input type=checkbox name=buy checked= onclick=javascript:basket.checkItem()"+"   ";
					data +="<img src='" +item.filename +"'>";
					data +="<span href=''>"+ item.title+"/ "+item.writer+ "<span>";
					data +="<span>"+ item.price+ "원</span>";
					data +="<span href='javascript:void(0)'class='abutton' onclick='javascript:basket.delItem();''>"+"삭제"+"</a>";
					/*
					data +="<div class='basketcmd'>"+"<span href='javascript:void(0)'class='abutton' onclick='javascript:basket.delItem();''>"+"삭제"+"</a></div>";
					
					data +="<div class='basketcmd'>"+"<span href='javascript:void(0)'class='abutton' onclick='javascript:basket.delItem();''>"+"삭제"+"</a></div>";
					
					data +="<td>"+
				        "<button type =button onclick=fnCalCount('p',this);">+"</button>"+
				        "<input type=text name=pop_out value=0 readonly=readonly style=text-align:center;/>"
				        "<button type=button onclick=fnCalCount('m', this);>-</button>"
				    +"</td>";
					 *///data +=" <input type=text name=p_num id=p_num size=2 maxlength=4 class=p_num value=1 onkeyup=javascript:basket.changePNum(1)><span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-up up></i></span><span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-down down></i></span>";
					//data +="<span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-up up></i></span>";
					//data +="<span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-down down></i></span>";
			        //data +=" <input type=text name=p_num id=p_num size=2 maxlength=4 class=p_num value=1 onkeyup=javascript:basket.changePNum(1)><span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-up up></i></span><span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-down down></i></span>";
					//<div class="basketcmd"><a href="javascript:void(0)" class="abutton" onclick="javascript:basket.delItem();">삭제</a></div>
					data +="</div>"
					$("#row").append(data);
					
				});
				},
		 
				error:function(){
					alert('error');
				}
		})
		});
		</script>
		
		<script type="text/javascript">
		let ses = JSON.parse(sessionStorage.getItem("login"));
		$(document).ready(function(){
		
			$.ajax({	
			url:"http://localhost:3000/wishlist",
			type:"get",
			data:{ id : ses.id },	
			success:function( resp ){
				//alert(JSON.stringify(resp));
				$("#book_count").html(resp.book_count);
				$("#book_seq").html(resp.book_seq);
				$("#delivery_fee").html(resp.delivery_fee);
				$("#id").html(resp.id);
				$("#price").html(resp.price);
				$("#seq").html(resp.seq);
				
				$.each(resp, function(index, item){
					
					//let data1="<div class='row data1'>";
					//data1 +="<td>"+
				       // "<button type =button onclick=fnCalCount('p',this);">+"</button>"+
				      // "<input type=text name=pop_out value=0 readonly=readonly style=text-align:center;/>"
				       // "<button type=button onclick=fnCalCount('m', this);>-</button>"
				   // +"</td>";
				   // data1 +="<input type='"+"text name=p_num1 id=p_num1 size=1 maxlength=4 class=p_num value=1>'"+"<span>"+"<i class=fas fa-arrow-alt-circle-up up>"+"</i>"+"</span>"+"<span>"+"<i class=fas fa-arrow-alt-circle-down down>"+"</i>"+"</span>"
					//data +=" <input type=text name=p_num id=p_num size=2 maxlength=4 class=p_num value=1 onkeyup=javascript:basket.changePNum(1)><span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-up up></i></span><span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-down down></i></span>";
					//data +="<span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-up up></i></span>";
					//data +="<span onclick=javascript:basket.changePNum(1);><i class=fas fa-arrow-alt-circle-down down></i></span>";
			        
					//data +="</div>"
					//$("#row1").append(data1);
					
				});
				},
		 
				error:function(){
					alert('error');
				}
		})
		});
		</script>
		
	
